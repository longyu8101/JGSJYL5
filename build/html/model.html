<!DOCTYPE html>
<html class="writer-html5" lang="zh" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>乌江桥 &mdash; 桥梁工程 第2版</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="_static/logo.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="索引" href="genindex.html" />
    <link rel="search" title="搜索" href="search.html" />
    <link rel="prev" title="第二篇 梁桥" href="2.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> 桥梁工程<br /><br />第2版
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">目次</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="qy.html">第二版前言</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">第一篇 总论</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="01.html">第一章  概论</a></li>
<li class="toctree-l1"><a class="reference internal" href="02.html">第二章  桥梁总体规划和设计要点</a></li>
<li class="toctree-l1"><a class="reference internal" href="03.html">第三章  作用及作用组合（桥梁设计荷载）</a></li>
<li class="toctree-l1"><a class="reference internal" href="04.html">第四章  桥梁通用构造</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">第二篇 总论</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="2.html">第二篇  梁桥</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">桥梁模型</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">乌江桥</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">桥梁工程<br /><br />第2版</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a></li>
      <li class="breadcrumb-item active">乌江桥</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/model.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="id1">
<h1>乌江桥<a class="headerlink" href="#id1" title="此标题的永久链接"></a></h1>
<html>
                      <head>
                        <meta charset="utf-8" />
                        <title>My first three.js app</title>
                        <style>
                          body {
                            margin: 0;
                          }
                        </style>
                        <link
                          rel="stylesheet"
                          type="text/css"
                          href="./_static/index.css"
                        />
                      </head>
                      <body>
                        <div class="model">
                          <button class="openBtn">☩</button>
                        </div>
                        <div class="box">
                          <div class="model1">
                            <button class="closeBtn">
                              <p>x</p>
                            </button>
                          </div>
                        </div>
                        <script type="importmap">
                          {
                            "imports": {
                              "three": "https://unpkg.com/three/build/three.module.js",
                              "three/controls/": "https://unpkg.com/three/examples/jsm/controls/",
                              "three/loaders/": "https://unpkg.com/three/examples/jsm/loaders/"
                            }
                          }
                        </script>
                        <script type="module">
                          import * as THREE from "three";
                          // 导入控制器
                          import { OrbitControls } from "three/controls/OrbitControls.js";
                          // 导入gltf载入库
                          import { GLTFLoader } from "three/loaders/GLTFLoader.js";

                          // 尺寸设置
                          const width = window.innerWidth * 0.4;
                          const height = window.innerHeight * 0.6;

                          // 初始化场景
                          const scene = new THREE.Scene();

                          // 初始化相机
                          const camera = new THREE.PerspectiveCamera(
                            80,
                            width / height,
                            0.1,
                            2000
                          );
                          camera.position.set(-10, 30, 70); // 相机位置
                          camera.aspect = width / height; // 更新摄像头宽高比例
                          camera.updateProjectionMatrix(); // 更新摄像头投影矩阵

                          scene.add(camera);

                          // 初始化渲染器
                          const renderer = new THREE.WebGLRenderer({
                            // 设置抗锯齿
                            antialias: true,
                            //   对数深度缓冲区
                            logarithmicDepthBuffer: true, // 防止渲染闪烁
                          });
                          renderer.outputEncoding = THREE.sRGBEncoding;
                          renderer.setClearColor("rgba(240,255,255 ,1)", 1); // 渲染白色背景

                          // 渲染器宽高
                          renderer.setSize(width, height);

                          // 监听屏幕大小修改配置
                          let fullSize = false;
                          window.addEventListener("resize", () => {
                            if (fullSize) {
                              camera.aspect = width / height;
                              camera.updateProjectionMatrix();
                              renderer.setSize(
                                window.innerWidth,
                                window.innerHeight
                              );
                            } else {
                              camera.aspect = width / height;
                              camera.updateProjectionMatrix();
                              renderer.setSize(
                                window.innerWidth * 0.4,
                                window.innerHeight * 0.6
                              );
                            }
                          });

                          // 渲染器添加到页面
                          // document.body.appendChild(renderer.domElement);
                          const model =
                            document.getElementsByClassName("model")[0];
                          model.appendChild(renderer.domElement);

                          // 初始化控制器
                          const controls = new OrbitControls(
                            camera,
                            renderer.domElement
                          );
                          controls.autoRotate = true;

                          // 渲染函数
                          function render() {
                            renderer.render(scene, camera);
                            requestAnimationFrame(render);
                            controls.update();
                          }
                          render();

                          // 添加平行光
                          const light = new THREE.DirectionalLight(0xffffff, 1);
                          light.position.set(50, 100, 50);
                          scene.add(light);

                          // 添加环境光
                          const envLight = new THREE.SpotLight(0xffffff, 1);
                          envLight.position.set(-50, 100, -50);
                          scene.add(envLight);

                          // 添加桥梁模型
                          const loader = new GLTFLoader();
                          loader.load(
                            "./_static/wujiang.glb",
                            (gltf) => {
                              gltf.scene.position.set(0, 20, 0);
                              scene.add(gltf.scene);
                            }
                          );

                          // 切换模型尺寸
                          const model1 =
                            document.getElementsByClassName("model1")[0];
                          const openBtn =
                            document.getElementsByClassName("openBtn")[0];

                          openBtn.addEventListener("click", () => {
                            renderer.setSize(
                              window.innerWidth,
                              window.innerHeight
                            );
                            camera.position.set(-10, 30, 100);
                            model1.appendChild(renderer.domElement);
                            box.style.display = "block";
                            fullSize = true;
                          });

                          const closeBtn =
                            document.getElementsByClassName("closeBtn")[0];
                          const box = document.getElementsByClassName("box")[0];

                          closeBtn.addEventListener("click", () => {
                            renderer.setSize(
                              window.innerWidth * 0.4,
                              window.innerHeight * 0.6
                            );
                            model.appendChild(renderer.domElement);
                            box.style.display = "none";
                            fullSize = false;
                          });
                        </script>
                      </body>
</html>

   <style>
       #abc{
           height:200px;
       }
   </style>
<body>
   <div id="abc"></div>
</body></section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="2.html" class="btn btn-neutral float-left" title="第二篇 梁桥" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 哈尔滨工业大学.</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>